<% if content_for?(:all) %>
  <%= yield(:all) %>
<% else %>
  <% if content_for?(:doctype) %>
    <%= yield(:doctype) %>
  <% else %>
    <!doctype html>
  <% end %>
  <% if content_for?(:external_html) %>
    <%= yield(:external_html) %>
  <% else %>
    <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""><![endif]-->
    <!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" lang=""><![endif]-->
    <!--[if IE 8]><html class="no-js lt-ie9" lang=""><![endif]-->
    <!--[if gt IE 8]><!-->
      <html class="no-js" lang="">
    <!--<![endif]-->
      <% if content_for?(:html) %>
        <%= yield(:html) %>
      <% else %>
        <% if content_for?(:external_head) %>
          <%= yield(:external_head) %>
        <% else %>
          <head>
            <% if content_for?(:head_meta) %>
              <%= yield(:head_meta) %>
            <% else %>
              <% if content_for?(:head_meta_before) %>
                <%= yield(:head_meta_before) %>
              <% end %>
              <meta charset="utf-8">
              <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
              <meta name="description" content="">
              <meta name="viewport" content="width=device-width, initial-scale=1">
              <%= csrf_meta_tags %>
              <% if content_for?(:head_meta_after) %>
                <%= yield(:head_meta_after) %>
              <% end %>
            <% end %>

            <title>
            <% if content_for?(:title) %>
              <%= yield(:title) %>
            <% else %>
              <%= 'Ramanujan' %>
            <% end %>
            </title>

            <% if content_for?(:head_css) %>
              <%= yield(:head_css) %>
            <% else %>
              <% if content_for?(:head_css_before) %>
                <%= yield(:head_css_before) %>
              <% else %>
              <% end %>
              <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
              <%= stylesheet_link_tag  'application', media: 'all', 'data-turbolinks-track': 'reload' %>
              <% if content_for?(:head_css_after) %>
                <%= yield(:head_css_after) %>
              <% else %>
              <% end %>
            <% end %>

            <% if content_for?(:head_js) %>
              <%= yield(:head_js) %>
            <% else %>
              <% if content_for?(:head_js_before) %>
                <%= yield(:head_js_before) %>
              <% else %>
              <% end %>
              <%= javascript_include_tag 'application/head', 'data-turbolinks-track': 'reload' %>
              <% if content_for?(:head_js_after) %>
                <%= yield(:head_js_after) %>
              <% else %>
              <% end %>
            <% end %>

            <% if content_for?(:head_other) %>
              <%= yield(:head_other) %>
            <% else %>
              <link rel="apple-touch-icon" href="/apple-touch-icon.png">
            <% end %>
          </head>
        <% end %>

        <% if content_for?(:external_body) %>
          <%= yield(:external_body) %>
        <% else %>
          <body class="<%= controller_name %> <%= action_name %>">
            <!--[if lt IE 8]>
              <p class="browserupgrade">
                You are using an <strong>outdated</strong> browser.
                Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
              </p>
            <![endif]-->
            <% if content_for?(:body_header) %>
              <%= yield(:body_header) %>
            <% else %>
              <%= render :partial => 'layouts/header' %>
            <% end %>

            <% if content_for?(:body_content) %>
              <%= yield(:body_content) %>
            <% else %>
              <section class="content">
                <%= yield %>
              </section>
            <% end %>

            <% if content_for?(:body_footer) %>
              <%= yield(:body_footer) %>
            <% else %>
              <%= render :partial => 'layouts/footer' %>
            <% end %>

            <% if content_for?(:body_js) %>
              <%= yield(:body_js) %>
            <% else %>
              <% if content_for?(:body_js_before) %>
                <%= yield(:body_js_before) %>
              <% else %>
              <% end %>
              <%= javascript_include_tag 'application/body', 'data-turbolinks-track': 'reload' %>
              <% if content_for?(:body_js_after) %>
                <%= yield(:body_js_after) %>
              <% else %>
              <% end %>
            <% end %>
          </body>
        <% end %>
      <% end %>     
      <% if @dev %>
        <pre>
          <%= @dev.inspect %>
        </pre>
      <% end %>
    </html>
  <% end %>
<% end %>